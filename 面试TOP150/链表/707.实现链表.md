> Problem: [707. è®¾è®¡é“¾è¡¨](https://leetcode.cn/problems/design-linked-list/description/)

ğŸ·[æˆ‘çš„leetcodeä¸»é¡µ](https://leetcode.cn/u/qui22ical-gagariny8t/)
 
[TOC]


#  ä¸ºä»€ä¹ˆéœ€è¦é“¾è¡¨
æ•°ç»„çš„åº•å±‚åŸç†æ˜¯é¡ºåºå­˜å‚¨ï¼Œæ˜¯ä¸€å—è¿ç»­çš„å†…å­˜ç©ºé—´ï¼Œæœ‰äº†è¿™å—å†…å­˜ç©ºé—´çš„é¦–åœ°å€ï¼Œå°±èƒ½ç›´æ¥é€šè¿‡ç´¢å¼•è®¡ç®—å‡ºä»»æ„ä½ç½®çš„å…ƒç´ åœ°å€ã€‚

é“¾è¡¨ä¸ä¸€æ ·ï¼Œä¸€æ¡é“¾è¡¨å¹¶ä¸éœ€è¦ä¸€æ•´å—è¿ç»­çš„å†…å­˜ç©ºé—´å­˜å‚¨å…ƒç´ ã€‚é“¾è¡¨çš„å…ƒç´ å¯ä»¥åˆ†æ•£åœ¨å†…å­˜ç©ºé—´çš„å¤©æ¶¯æµ·è§’ï¼Œé€šè¿‡æ¯ä¸ªèŠ‚ç‚¹ä¸Šçš„`next`, `prev` æŒ‡é’ˆï¼Œå°†é›¶æ•£çš„å†…å­˜å—ä¸²è”èµ·æ¥å½¢æˆä¸€ä¸ªé“¾å¼ç»“æ„ã€‚

è¿™æ ·åšçš„å¥½å¤„å¾ˆæ˜æ˜¾ï¼Œé¦–å…ˆå°±æ˜¯å¯ä»¥æé«˜å†…å­˜çš„åˆ©ç”¨æ•ˆç‡ï¼Œé“¾è¡¨çš„èŠ‚ç‚¹ä¸éœ€è¦æŒ¨åœ¨ä¸€èµ·ï¼Œç»™ç‚¹å†…å­˜ new å‡ºæ¥ä¸€ä¸ªèŠ‚ç‚¹å°±èƒ½ç”¨ï¼Œæ“ä½œç³»ç»Ÿä¼šè§‰å¾—è¿™å¨ƒå¥½å…»æ´»ã€‚
>å¯ä»¥æŠ½è±¡ä¸ºä¸€æ¡å¼¯æ›²çš„é“¾å­ï¼Œé€šè¿‡ä¸€ä¸ªä¸ªç¯è¿æ¥åœ¨ä¸€èµ·ã€‚

å¦å¤–ä¸€ä¸ªå¥½å¤„ï¼Œå®ƒçš„èŠ‚ç‚¹è¦ç”¨çš„æ—¶å€™å°±èƒ½æ¥ä¸Šï¼Œä¸ç”¨çš„æ—¶å€™æ‹†æ‰å°±è¡Œäº†ï¼Œä»æ¥ä¸éœ€è¦è€ƒè™‘æ‰©ç¼©å®¹å’Œæ•°æ®æ¬ç§»çš„é—®é¢˜ï¼Œç†è®ºä¸Šè®²ï¼Œé“¾è¡¨æ˜¯æ²¡æœ‰å®¹é‡é™åˆ¶çš„ï¼ˆé™¤éæŠŠæ‰€æœ‰å†…å­˜éƒ½å æ»¡ï¼Œè¿™ä¸å¤ªå¯èƒ½ï¼‰ã€‚

å½“ç„¶ï¼Œä¸å¯èƒ½åªæœ‰å¥½å¤„æ²¡æœ‰å±€é™æ€§ã€‚==æ•°ç»„æœ€å¤§çš„ä¼˜åŠ¿æ˜¯æ”¯æŒé€šè¿‡ç´¢å¼•å¿«é€Ÿè®¿é—®å…ƒç´ ï¼Œè€Œé“¾è¡¨å°±ä¸æ”¯æŒ==ã€‚

>è¿™ä¸ªä¸éš¾ç†è§£å§ï¼Œå› ä¸ºå…ƒç´ å¹¶ä¸æ˜¯ç´§æŒ¨ç€çš„ï¼Œæ‰€ä»¥å¦‚æœä½ æƒ³è¦è®¿é—®ç¬¬ 3 ä¸ªé“¾è¡¨å…ƒç´ ï¼Œä½ å°±åªèƒ½ä»å¤´ç»“ç‚¹å¼€å§‹å¾€é¡ºç€ next æŒ‡é’ˆå¾€åæ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°ç¬¬ 3 ä¸ªèŠ‚ç‚¹æ‰è¡Œã€‚

#  å•é“¾è¡¨

##  é“¾è¡¨çš„åˆ›å»º
```python
class Listnode:
    def __init__(self, x):
        self.val = x
        self.next = None


def create_linked_list(nums):
    head = Listnode(nums[0])
    cur = head
    for i in range(1, len(nums)):
        cur.next = Listnode(nums[i])
        cur = cur.next
    return head


def print_linked_list(current_node):
    while current_node:
        print(current_node.val, end='->')
        current_node = current_node.next
    print('None')


if __name__ == '__main__':
    nums = [1, 2, 3, 4, 5]
    linked_list = create_linked_list(nums)
    print_linked_list(linked_list)
```
æœ€ç»ˆçš„è¾“å‡ºç»“æœï¼š1->2->3->4->5->None
##  é“¾è¡¨çš„å®ç°
```python
class ListNode:
    def __init__(self, val):
        self.val = val
        self.next = None


class MyLinkedList(object):

    def __init__(self):
        self.size = 0
        self.head = ListNode(0)

    def get(self, index):
        """
        ä»é“¾è¡¨ä¸­è·å–æŒ‡å®šä½ç½®çš„å…ƒç´ å€¼ã€‚
        :param index: è¦è·å–å…ƒç´ çš„ä½ç½®ç´¢å¼•ï¼Œä»0å¼€å§‹è®¡æ•°ã€‚
        :type index: int
        :return: å¦‚æœç´¢å¼•æœ‰æ•ˆï¼Œåˆ™è¿”å›å¯¹åº”ä½ç½®çš„å…ƒç´ å€¼ï¼›å¦åˆ™è¿”å›-1ã€‚
        :rtype: int
        """
        # æ£€æŸ¥ç´¢å¼•æ˜¯å¦è¶…å‡ºé“¾è¡¨èŒƒå›´
        if index < 0 or index >= self.size:
            return -1
        cur = self.head
        # éå†é“¾è¡¨è‡³æŒ‡å®šç´¢å¼•ä½ç½®
        for _ in range(index + 1):
            cur = cur.next
        return cur.val  # è¿”å›æŒ‡å®šä½ç½®çš„å…ƒç´ å€¼

    def addAtHead(self, val):
        """
        :type val: int
        :rtype: None
        """
        self.addAtIndex(0, val)

    def addAtTail(self, val):
        """
        :type val: int
        :rtype: None
        """
        self.addAtIndex(self.size, val)

    def addAtIndex(self, index, val):
        """
        åœ¨æŒ‡å®šç´¢å¼•å¤„æ’å…¥ä¸€ä¸ªæ–°èŠ‚ç‚¹ã€‚

        :param index: è¦æ’å…¥èŠ‚ç‚¹çš„ç´¢å¼•ä½ç½®ã€‚å¦‚æœç´¢å¼•å¤§äºå½“å‰é“¾è¡¨é•¿åº¦ï¼Œåˆ™ä¸åšä»»ä½•æ“ä½œï¼›
                      å¦‚æœç´¢å¼•å°äº0ï¼Œåˆ™å°†èŠ‚ç‚¹æ’å…¥åˆ°é“¾è¡¨å¼€å¤´ã€‚
        :param val: è¦æ’å…¥çš„èŠ‚ç‚¹çš„å€¼ã€‚
        :return: None
        """
        if index > self.size:  # å¦‚æœç´¢å¼•å¤§äºé“¾è¡¨é•¿åº¦ï¼Œåˆ™ç›´æ¥è¿”å›ï¼Œä¸åšä»»ä½•æ“ä½œ
            return
        if index < 0:  # å¦‚æœç´¢å¼•å°äº0ï¼Œå°†èŠ‚ç‚¹æ’å…¥åˆ°é“¾è¡¨å¼€å¤´
            index = 0
        self.size += 1  # æ›´æ–°é“¾è¡¨å¤§å°
        pre = self.head
        # å®šä½åˆ°è¦æ’å…¥èŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹
        for _ in range(index):
            pre = pre.next  # é€ä¸ªéå†ï¼Œæ‰¾åˆ°æ­£ç¡®çš„ä½ç½®
        to_add = ListNode(val)  # åˆ›å»ºæ–°èŠ‚ç‚¹
        to_add.next = pre.next  # æ–°èŠ‚ç‚¹æŒ‡å‘preèŠ‚ç‚¹çš„nextèŠ‚ç‚¹
        pre.next = to_add  # preçš„nextæŒ‡å‘æ–°èŠ‚ç‚¹

    def deleteAtIndex(self, index):
        """
        ä»é“¾è¡¨ä¸­åˆ é™¤æŒ‡å®šç´¢å¼•çš„å…ƒç´ ã€‚

        :param index: è¦åˆ é™¤çš„å…ƒç´ çš„ç´¢å¼•ã€‚å¦‚æœç´¢å¼•æ— æ•ˆï¼ˆå°äº0æˆ–å¤§äºç­‰äºé“¾è¡¨é•¿åº¦ï¼‰ï¼Œåˆ™ä¸è¿›è¡Œä»»ä½•æ“ä½œã€‚
        :type index: int
        :return: None
        """
        if index < 0 or index >= self.size:
            return
        self.size -= 1
        pre = self.head
        # ç§»åŠ¨åˆ°è¦åˆ é™¤èŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹
        for _ in range(index):
            pre = pre.next
        # è¦åˆ é™¤èŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹nextæŒ‡å‘åˆ é™¤èŠ‚ç‚¹çš„åä¸€ä¸ªèŠ‚ç‚¹
        pre.next = pre.next.next
```
#  åŒé“¾è¡¨
##  é“¾è¡¨çš„åˆ›å»º
```python
class ListNode:
    def __init__(self, val):
        self.val = val
        self.next = None
        self.prev = None


def create_double_linked_list(arr):
    if not arr:
        return None
    head = ListNode(arr[0])
    cur = head
    for i in range(1, len(arr)):
        node = ListNode(arr[i])
        cur.next = node
        node.prev = cur
        cur = cur.next
    return head


def print_double_linked_list(head):
    while head:
        print(head.val, end='->')
        head = head.next


if __name__ == '__main__':
    head = create_double_linked_list([1, 2, 3, 4, 5])
    print_double_linked_list(head)

```
##  é“¾è¡¨çš„å®ç°
```python
class ListNode:
    def __init__(self, x):
        self.val = x
        self.next = None
        self.prev = None


class MyLinkedList:

    def __init__(self):
        self.size = 0
        self.head, self.tail = ListNode(0), ListNode(0)
        self.head.next = self.tail
        self.tail.prev = self.head

    def get(self, index: int) -> int:
        """
        ä»é“¾è¡¨ä¸­è·å–æŒ‡å®šä½ç½®çš„å…ƒç´ å€¼ã€‚
        """
        # æ£€æŸ¥ç´¢å¼•æ˜¯å¦è¶…å‡ºé“¾è¡¨èŒƒå›´
        if index < 0 or index >= self.size:
            return -1
        # é€‰æ‹©ä»å¤´ç»“ç‚¹è¿˜æ˜¯å°¾ç»“ç‚¹å¼€å§‹éå†å–å†³äºç´¢å¼•çš„ä½ç½®ï¼Œä»¥ä¼˜åŒ–éå†æ•ˆç‡
        # ä»¥ç´¢å¼•å€¼ä½œä¸ºåˆ†å‰²ï¼Œå·¦è¾¹çŸ­å°±ä»å¤´ç»“ç‚¹å¼€å§‹éå†ï¼Œå³è¾¹çŸ­å°±ä»å°¾ç»“ç‚¹å¼€å§‹éå†
        if index + 1 < self.size - index:
            curr = self.head
            # éå†é“¾è¡¨åˆ°è¾¾æŒ‡å®šç´¢å¼•ä½ç½®
            for _ in range(index + 1):
                curr = curr.next
        else:
            curr = self.tail
            # éå†é“¾è¡¨åˆ°è¾¾æŒ‡å®šç´¢å¼•ä½ç½®
            for _ in range(self.size - index):
                curr = curr.prev
        # éå†é“¾è¡¨åˆ°è¾¾æŒ‡å®šç´¢å¼•ä½ç½®
        return curr.val

    def addAtHead(self, val: int) -> None:
        self.addAtIndex(0, val)

    def addAtTail(self, val: int) -> None:
        self.addAtIndex(self.size, val)

    def addAtIndex(self, index: int, val: int) -> None:
        """
        åœ¨åŒå‘é“¾è¡¨çš„æŒ‡å®šä½ç½®æ’å…¥ä¸€ä¸ªæ–°èŠ‚ç‚¹ï¼Œå¹¶ä¿æŒåŒå‘é“¾è¡¨çš„æœ‰åºã€‚
        """
        # å¤„ç†indexå¤§äºé“¾è¡¨é•¿åº¦çš„æƒ…å†µï¼Œç›´æ¥è¿”å›ä¸è¿›è¡Œæ“ä½œ
        if index > self.size:
            return
        # å°†è´Ÿç´¢å¼•è°ƒæ•´ä¸º0
        if index < 0:
            index = 0

        # ç¡®å®šæ’å…¥ä½ç½®çš„å‰é©±èŠ‚ç‚¹å’Œåç»§èŠ‚ç‚¹
        if index < self.size - index:
            # å½“indexåœ¨é“¾è¡¨å‰åŠéƒ¨åˆ†æ—¶ï¼Œæ­£å¸¸è®¡ç®—å‰é©±èŠ‚ç‚¹å’Œåç»§èŠ‚ç‚¹
            pred = self.head
            for _ in range(index):
                pred = pred.next
            succ = pred.next
        else:
            # å½“indexåœ¨é“¾è¡¨ååŠéƒ¨åˆ†æ—¶ï¼Œä»å°¾éƒ¨å‘å‰è®¡ç®—å‰é©±èŠ‚ç‚¹å’Œåç»§èŠ‚ç‚¹
            succ = self.tail
            for _ in range(self.size - index):
                succ = succ.prev
            pred = succ.prev

        # æ›´æ–°é“¾è¡¨å¤§å°
        self.size += 1
        # åˆ›å»ºæ–°èŠ‚ç‚¹å¹¶æ’å…¥åˆ°é“¾è¡¨ä¸­
        to_add = ListNode(val)
        to_add.next = succ
        to_add.prev = pred
        pred.next = to_add
        succ.prev = to_add

    def deleteAtIndex(self, index: int) -> None:
        if index < 0 or index >= self.size:
            return
        if index < self.size - index:
            # å½“indexåœ¨é“¾è¡¨å‰åŠéƒ¨åˆ†æ—¶ï¼Œæ­£å¸¸è®¡ç®—å‰é©±èŠ‚ç‚¹å’Œåç»§èŠ‚ç‚¹
            pred = self.head
            for _ in range(index):
                pred = pred.next
            succ = pred.next.next
        else:
            # å½“indexåœ¨é“¾è¡¨ååŠéƒ¨åˆ†æ—¶ï¼Œä»å°¾éƒ¨å‘å‰è®¡ç®—å‰é©±èŠ‚ç‚¹å’Œåç»§èŠ‚ç‚¹
            succ = self.tail
            for _ in range(self.size - index - 1):
                succ = succ.prev
            pred = succ.prev.prev
        self.size -= 1
        pred.next = succ
        succ.prev = pred
```